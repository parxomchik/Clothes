<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:vasax32="http://xmlns.jcp.org/jsf/composite/vasax32"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
<f:metadata>
    <f:viewParam name="id" value="#{changePasswordBean.userId}" />
    <f:viewParam name="token" value="#{changePasswordBean.resetToken}" />
    <f:viewAction action="#{changePasswordBean.init}" />
</f:metadata>
<h:body>

    <ui:composition template="templates/front/BasicTemplate.xhtml">
        <ui:define name="title"><title>Изменение пароля</title></ui:define>

        <ui:define name="content">
            <div class="row margin_fix">
                <div class="col-md-10 col-md-offset-1">
                    <h2 class="text-center">Смена пароля </h2>
                    <div class="font_size_16 min-height_300">
                        <h:form id="change_password" class="center">
                            <p:growl id="msgs" showDetail="true" life="1500" autoUpdate="true" />
                            <p>
                            <label>
                                <span>Введите новый пароль: </span>

                                <p:password value="#{changePasswordBean.newPassword}" placeholder="Новый пароль"
                                            id="new_pass" required="true" requiredMessage="Введите пароль, пожалуйста." match="new_pass2"  />
                                <h:message id="confirmPasswordf" for="new_pass" styleClass="message-red" />
                            </label>
                            </p>
                            <p>
                            <label>
                                <span>Введите пароль еще раз: </span>

                                <p:password value="#{changePasswordBean.newPassword2}" placeholder="Повтор пароля"
                                            id="new_pass2" required="true" requiredMessage="Повторите Пароль"   />
                                <h:message id="repeatPasswordMsg" for="new_pass2" styleClass="message-red" />
                            </label>
                            </p>
                            <p>
                                <p:commandButton value="Сохранить" action="#{changePasswordBean.changePassword}" id="change_pass"  >
                                    <f:ajax execute="@form" render="@all" />
                                </p:commandButton>

                            </p>
                        </h:form>
                    </div>
                </div>
            </div>
        </ui:define>

        <ui:define name="footerLibraries">
            <!--Here you can include js ibraries-->
        </ui:define>

    </ui:composition>
</h:body>
</html>